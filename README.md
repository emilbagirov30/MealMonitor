# MealMonitor - Система отслеживания калорий

В рамках выполнения тестового задания для упрощения процесса тестирования в приложении не использовались JWT и Spring Security.

MealMonitor - это REST API сервис, предназначенный для отслеживания потребления калорий и питания пользователей. Он помогает пользователям записывать свой прием пищи, рассчитывать ежедневные потребности в калориях и отслеживать прогресс по достижению фитнес-целей (например, потеря веса, поддержание или набор массы).

## Особенности

- **Управление пользователями**: Возможность добавления пользователей с личными данными (возраст, вес, рост, цель).
- **Отслеживание питания**: Пользователи могут записывать приемы пищи и рассчитывать общее количество потребленных калорий.
- **Ежедневный отчет**: Получение ежедневного отчета о суммарном количестве потребленных калорий и проверка, укладывается ли пользователь в свой лимит калорий.
- **История питания**: Пользователи могут просматривать историю потребления пищи.

## Технологии

- Java 17
- Spring Boot
- Spring Data JPA
- PostgreSQL
- Docker
- Lombok
- Hibernate

## Структура проекта

- **Controller**: Обрабатывает HTTP-запросы и ответы.
- **Service**: Содержит бизнес-логику (например, добавление приемов пищи, расчет ежедневных калорий).
- **Repository**: Взаимодействует с базой данных PostgreSQL с помощью JPA.
- **Entities**: Определяют модели данных (например, User, Meal, FoodIntake).

## Инструкция по установке и запуску

### Необходимые компоненты

Перед запуском приложения убедитесь, что у вас установлены следующие компоненты:

- Docker (для контейнеризованного запуска)
- Java 17 (для локальной сборки)
- Maven (для локальной сборки)
- PostgreSQL (если запускаете без Docker)

### Запуск с Docker 

1. Клонируйте репозиторий на ваш компьютер.

    ```bash
    git clone https://github.com/emilbagirov30/MealMonitor.git
    cd mealmonitor
    ```

2. Построение Docker-образов.

    ```bash
    docker-compose build
    ```

3. Запуск контейнеров (PostgreSQL и приложение).

    ```bash
    docker-compose up
    ```

4. После старта приложения оно будет доступно по следующим адресам:

    - **API**: `http://localhost:8080`
    - **PostgreSQL база данных**: `localhost:5432`


### API Эндпоинты

Ниже представлены основные эндпоинты для взаимодействия с API. Вы можете протестировать их с помощью Postman или любого другого инструмента для тестирования API.

#### 1. **Создание пользователя**

- **Эндпоинт**: `POST /users/create`
- **Тело запроса (JSON)**:
    ```json
    {
        "name": "Иван Иванов",
        "email": "ivan.ivanov@example.com",
        "age": 30,
        "weight": 75,
        "height": 175,
        "goal": "WEIGHT_LOSS"
    }
    ```
#### 2. **Получение пользователя**

- **Эндпоинт**: `GET /users/{user_id}`

#### 3. **Создание блюда**

- **Эндпоинт**: `POST /meals/create`
- **Тело запроса (JSON)**:
    ```json
    {
        "name": "Гриль из курицы",
        "calories": 1200,
        "protein": 30,
        "fat": 10,
        "carbs": 5
    }
    ```

    #### 4. **Получение всех блюд**

- **Эндпоинт**: `GET /meals`


### 5. **Добавление приема пищи для пользователя**  

- **Эндпоинт**: `POST /food-intake/create`  
- **Тело запроса (JSON)**:  
    ```json
    {
  "userId": 1,
  "mealIds": [2, 3]
    }
    ```
- **Описание**: Добавляет новый прием пищи для указанного пользователя с переданными блюдами. Дата устанавливается автоматически.

---

### 6. **Получение ежедневного отчета по калориям**  

- **Эндпоинт**: `GET /food-intake/daily-report/{userId}`  



